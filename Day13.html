<!DOCTYPE html>
  <html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <title>Image Before Upload | Yêu Thích Lập Trình</title>
    <link rel="stylesheet" href="Day13.css">
    
  </head>

  <body>
    <div class="container">
      <div class="wrapper">
        <div class="image">
          <img src="" alt="" style="display: none" onload="this.style.display=''">
        </div>
        <div class="content">
          <div class="icon">
            <i class="fas fa-cloud-upload-alt"></i>
          </div>
          <div class="text">
            Chưa có tệp nào được chọn!</div>
        </div>
        <div class="cancel-btn">
          <i class="fas fa-times"></i>
        </div>
        <div class="file-name">Tên tập tin ở đây</div>
      </div>
      <button onclick="defaultBtnActive()" class="custom-btn">Chọn một tệp</button>
      <input class="default-btn" type="file" hidden>
    </div>
    <script>
        const cancelBtn = document.querySelector('.cancel-btn');
        const wrapper = document.querySelector('.wrapper');
        const fileName = document.querySelector('.file-name');
        const defaultBtn = document.querySelector('.default-btn');
        const customBtn = document.querySelector('.custom-btn');
        const img = document.querySelector('img');
        let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
        function defaultBtnActive() {
            defaultBtn.click();
        }
        defaultBtn.addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function () {
                    const result = reader.result;
                    img.src = result;
                    wrapper.classList.add("active");
                }
                cancelBtn.addEventListener('click', function () {
                    img.src = "";
                    wrapper.classList.remove("active");
                })
                reader.readAsDataURL(file);
            }
            if (this.value) {
                let valueStore = this.value.match(regExp);
                fileName.textContent = valueStore;
            }
        });

    </script>
  </body>

  </html>

